{"name": "TC_008: Negative cart value", "status": "failed", "statusDetails": {"message": "AssertionError: Expected (400, 422), got 200\nassert 200 in (400, 422)\n +  where 200 = <Response [200]>.status_code", "trace": "cart_offer = <library.services.cart_offer_services.CartOfferServices object at 0x7646dc50b5c0>\ntitle = 'TC_008: Negative cart value', payload = {'cart_value': -100, 'restaurant_id': 1, 'user_id': 1}\nexpected_status_codes = (400, 422), expected_field = 'cart_value', xfail_reason = None\n\n    @allure.feature(\"Cart Offer - API Contract Validation\")\n    @pytest.mark.validation\n    @pytest.mark.parametrize(\n        \"title, payload, expected_status_codes, expected_field, xfail_reason\",\n        [\n            (\"TC_001: Missing cart_value\", {\"user_id\": 1, \"restaurant_id\": 1}, (400, 422), \"cart_value\", None),\n            (\"TC_002: Missing user_id\", {\"cart_value\": 200, \"restaurant_id\": 1}, (400, 422), \"user_id\", None),\n            (\"TC_003: Missing restaurant_id\", {\"cart_value\": 200, \"user_id\": 1}, (400, 422), \"restaurant_id\", None),\n            (\"TC_004: Empty payload\", {}, (400, 422), \"cart_value\", None),\n            (\"TC_005: Extra unknown field\", {\"cart_value\": 200, \"user_id\": 1, \"restaurant_id\": 1, \"foo\": \"bar\"}, (200,), None, None),\n            (\"TC_006: cart_value as string\", {\"cart_value\": \"abc\", \"user_id\": 1, \"restaurant_id\": 1}, (400, 422), \"cart_value\", None),\n            (\"TC_007: user_id as string\", {\"cart_value\": 200, \"user_id\": \"abc\", \"restaurant_id\": 1}, (400, 422), \"user_id\", None),\n            (\"TC_008: Negative cart value\", {\"cart_value\": -100, \"user_id\": 1, \"restaurant_id\": 1}, (400, 422), \"cart_value\", None),\n            (\"TC_009: Negative user_id\", {\"cart_value\": 200, \"user_id\": -1, \"restaurant_id\": 1}, (400, 422), \"user_id\", None),\n            (\"TC_010: Negative restaurant_id\", {\"cart_value\": 200, \"user_id\": 1, \"restaurant_id\": -10}, (400, 422), \"restaurant_id\", None),\n        ]\n    )\n    def test_api_contract_validation(\n        cart_offer: CartOfferServices,\n        title: str,\n        payload: dict,\n        expected_status_codes: tuple,\n        expected_field: str,\n        xfail_reason: str\n    ):\n        allure.dynamic.title(title)\n    \n        if xfail_reason:\n            pytest.xfail(reason=xfail_reason)\n    \n        response = cart_offer.client.post([\"api/v1/cart/apply_offer\"], json=payload)\n>       assert response.status_code in expected_status_codes, f\"Expected {expected_status_codes}, got {response.status_code}\"\nE       AssertionError: Expected (400, 422), got 200\nE       assert 200 in (400, 422)\nE        +  where 200 = <Response [200]>.status_code\n\ntests/test_contract_validation.py:38: AssertionError"}, "attachments": [{"name": "log", "source": "b58e6fde-6236-4251-a18f-5330a47014f2-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "title", "value": "'TC_008: Negative cart value'"}, {"name": "payload", "value": "{'cart_value': -100, 'user_id': 1, 'restaurant_id': 1}"}, {"name": "expected_status_codes", "value": "(400, 422)"}, {"name": "expected_field", "value": "'cart_value'"}, {"name": "xfail_reason", "value": "None"}], "start": 1752150718164, "stop": 1752150718177, "uuid": "ce65ff48-c2b9-4936-a9da-5dbd9ba4cef0", "historyId": "071660011a845cb0461f56e46b51502f", "testCaseId": "4ce3ad0714042d89e3cc4bdb6381b719", "fullName": "tests.test_contract_validation#test_api_contract_validation", "labels": [{"name": "feature", "value": "Cart Offer - API Contract Validation"}, {"name": "tag", "value": "validation"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_contract_validation"}, {"name": "host", "value": "LAPTOP-AEEGI4HU"}, {"name": "thread", "value": "171954-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_contract_validation"}]}